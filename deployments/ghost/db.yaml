# apiVersion: v1
# kind: PersistentVolumeClaim
# metadata:
#   name: ghost-db-storage
#   namespace: ghost
# spec:
#   accessModes:
#   - ReadWriteOnce
#   volumeMode: Filesystem
#   resources:
#     requests:
#       storage: 500Mi
# ---
# apiVersion: apps/v1
# kind: Deployment
# metadata:
#   name: ghost-db 
#   namespace: ghost
#   labels:
#     app: ghost-db
# spec:
#   replicas: 1
#   selector:
#     matchLabels:
#       app: ghost-db
#   template:
#     metadata:
#       labels:
#         app: ghost-db
#     spec:
#       containers:
#       - name: postgres
#         image: postgres:14.2
#         envFrom:
#         - secretRef:
#             name: ghost-db
#         volumeMounts:
#         - mountPath: /var/lib/postgresql/data
#           name: ghost-db-storage
#       volumes:
#         - name: ghost-db-storage
#           persistentVolumeClaim:
#             claimName: ghost-db-storage
# ---
# apiVersion: v1
# kind: Service
# metadata:
#   name: ghost-db
#   namespace: ghost
#   labels:
#     app: ghost-db
# spec:
#   ports:
#   - protocol: TCP
#     port: 5432
#     targetPort: 5432
#   selector:
#     app: concourse-db
#   type: NodePort
